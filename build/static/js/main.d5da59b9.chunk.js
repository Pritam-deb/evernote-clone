(this["webpackJsonpevernote-clone"]=this["webpackJsonpevernote-clone"]||[]).push([[0],{103:function(e,t,n){},105:function(e,t,n){},218:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n(19),c=n.n(r),a=(n(103),n(93)),i=n(25),s=n.n(i),l=n(35),u=n(15),d=(n(105),n(16));n(219),n(220);d.a.initializeApp({apiKey:"AIzaSyCusFFSYjvEg6EybCpaeeC6LQIT3zL4i60",authDomain:"evernote-console.firebaseapp.com",projectId:"evernote-console",storageBucket:"evernote-console.appspot.com",messagingSenderId:"776554901895",appId:"1:776554901895:web:3934d64778852d4bbf6322",measurementId:"G-1FWKXL89F8"});d.a.storage(),d.a.firestore();var p=n(85),b=n.n(p);var x=n(86),f=n.n(x),j=n(8),h=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100px - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"0px 0px 2px black"},titleInput:{height:"50px",boxSizing:"border-box",border:"none",padding:"5px",fontSize:"24px",width:"calc(100% - 300px)",backgroundColor:"#29487d",color:"white",paddingLeft:"50px"},editIcon:{position:"absolute",left:"310px",top:"12px",color:"white",width:"10",height:"10"},editorContainer:{height:"100vh",boxSizing:"border-box"}}},v=n(5);var O=Object(j.a)(h)((function(e){var t=Object(o.useState)(""),n=Object(u.a)(t,2),r=n[0],c=n[1],a=Object(o.useState)(e.selectedNote.title),i=Object(u.a)(a,2),d=i[0],p=i[1],x=Object(o.useState)(e.selectedNote.id),j=Object(u.a)(x,2),h=j[0],O=j[1],g=e;Object(o.useEffect)((function(){c(e.selectedNote.body),p(e.selectedNote.title),O(e.selectedNote.id)}),[]),Object(o.useEffect)((function(){e.selectedNote.id!==h&&(c(e.selectedNote.body),p(e.selectedNote.title),O(e.selectedNote.id))}),[]);var m=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:g.editorContainer,children:[Object(v.jsx)(f.a,{className:g.editIcon}),Object(v.jsx)("input",{className:g.titleInput,placeholder:"Note title....",value:d||"",onChange:function(e){return m(e.target.value)}}),Object(v.jsx)(b.a,{value:r,onChange:function(e,t){var n;return function(){for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];clearTimeout(n),n=setTimeout((function(){return e.apply(null,r)}),t)}}((function(t){e.noteUpdate(h,{title:d,body:t}),c(t)}),1500)})]})})),g=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100% - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"0px 0px 2px black"},newChatBtn:{borderRadius:"0px"},unreadMessage:{color:"red",position:"absolute",top:"0",right:"5px"},newNoteBtn:{width:"100%",height:"35px",borderBottom:"1px solid black",borderRadius:"0px",backgroundColor:"#29487d",color:"white","&:hover":{backgroundColor:"#88a2ce"}},sidebarContainer:{marginTop:"0px",width:"300px",height:"100vh",boxSizing:"border-box",float:"left",overflowY:"scroll",overflowX:"hidden"},newNoteInput:{width:"100%",margin:"0px",height:"35px",outline:"none",border:"none",paddingLeft:"5px","&:focus":{outline:"2px solid rgba(81, 203, 238, 1)"}},newNoteSubmitBtn:{width:"100%",backgroundColor:"#28787c",borderRadius:"0px",color:"white"}}},m=n(239),N=n(238),w=n(240),y=function(e){return{listItem:{cursor:"pointer"},textSection:{maxWidth:"85%"},deleteIcon:{position:"absolute",right:"5px",top:"calc(50% - 15px)","&:hover":{color:"red"}}}},C=n(237),I=n(241),S=n(92),k=n.n(S);var F=Object(j.a)(y)((function(e){var t,n=e._index,o=e._note,r=e.classes,c=e.selectedNoteIndex;return Object(v.jsx)("div",{children:Object(v.jsxs)(C.a,{className:r.listItem,selected:c===n,alignItems:"flex-start",children:[Object(v.jsx)("div",{className:r.textSection,onClick:function(){return t=o,r=n,e.selectNote(t,r);var t,r},children:Object(v.jsx)(I.a,{primary:o.title,secondary:(t=o.body.substring(0,30),t.replace(/<[^>]*>?/gm,"")+". . . .")})}),Object(v.jsx)(k.a,{onClick:function(){return t=o,void(window.confirm("Are you  sure you want to delete: ".concat(t.title))&&e.deleteNote(t));var t},className:r.deleteIcon})]})},n)}));var B=Object(j.a)(g)((function(e){var t=Object(o.useState)(!1),n=Object(u.a)(t,2),r=n[0],c=n[1],a=Object(o.useState)(null),i=Object(u.a)(a,2),s=i[0],l=i[1],d=e.notes,p=e.classes,b=e.selectedNoteIndex,x=function(t,n){return e.selectNote(t,n)},f=function(t){e.deleteNote(t)};return d?Object(v.jsxs)("div",{className:p.sidebarContainer,children:[Object(v.jsx)(N.a,{onClick:function(){c(!r),l(null)},className:p.newNoteBtn,children:r?"Cancel":"New Note"}),r?Object(v.jsxs)("div",{children:[Object(v.jsx)("input",{type:"text",className:p.newNoteInput,placeholder:"Enter note title",onKeyUp:function(e){return t=e.target.value,void l(t);var t}}),Object(v.jsx)(N.a,{className:p.newNoteSubmitBtn,onClick:function(){e.newNote(s),l(null),c(!1)},children:"Submit Note"})]}):null,Object(v.jsx)(m.a,{children:Array.isArray(d)&&d.map((function(e,t){return Object(v.jsxs)("div",{children:[Object(v.jsx)(F,{_note:e,_index:t,selectedNoteIndex:b,selectNote:x,deleteNote:f}),Object(v.jsx)(w.a,{})]},t)}))})]}):Object(v.jsx)("div",{children:"yo"})}));var T=function(){var e=Object(o.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(o.useState)(null),i=Object(u.a)(c,2),p=i[0],b=i[1],x=Object(o.useState)(null),f=Object(u.a)(x,2),j=f[0],h=f[1];Object(o.useEffect)((function(){d.a.firestore().collection("notes").onSnapshot((function(e){var t=e.docs.map((function(e){var t=e.data();return t.id=e.id,t}));console.log(t),b(t)}))}),[]);var g=function(e,t){r(e),h(t)},m=function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.indexOf(t),e.next=3,b(p.filter((function(e){return e!==t})));case 3:j===n?(h(null),r(null)):(p.length>1?g(p[j-1],j-1):h(null),r(null)),d.a.firestore().collection("notes").doc(t.id).delete();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,o,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={title:t,body:""},e.next=3,d.a.firestore().collection("notes").add({title:n.title,body:n.body,timestamp:d.a.firestore.FieldValue.serverTimestamp()});case 3:return o=e.sent,c=o.id,e.next=7,b({notes:[].concat(Object(a.a)(p),[n])});case 7:i=p.indexOf(p.filter((function(e){return e.id===c}))[0]),r(p[i]),h(i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(B,{selectedNoteIndex:j,notes:p,deleteNote:m,selectNote:g,newNote:N}),n?Object(v.jsx)(O,{selectedNote:n,selectedNoteIndex:j,notes:p,noteUpdate:function(e,t){d.a.firestore().collection("notes").doc(e).update({title:t.title,body:t.body,timestamp:d.a.firestore.FieldValue.serverTimestamp()})}},j):null]})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,242)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),o(e),r(e),c(e),a(e)}))};c.a.render(Object(v.jsx)(T,{}),document.getElementById("evernote-container")),z()}},[[218,1,2]]]);
//# sourceMappingURL=main.d5da59b9.chunk.js.map