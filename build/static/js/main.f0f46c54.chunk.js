(this["webpackJsonpevernote-clone"]=this["webpackJsonpevernote-clone"]||[]).push([[0],{100:function(e,t,n){},102:function(e,t,n){},217:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n(19),c=n.n(r),i=(n(100),n(90)),a=n(37),l=n.n(a),s=n(60),d=n(15),u=(n(102),n(16));n(218),n(219);u.a.initializeApp({apiKey:"AIzaSyCusFFSYjvEg6EybCpaeeC6LQIT3zL4i60",authDomain:"evernote-console.firebaseapp.com",projectId:"evernote-console",storageBucket:"evernote-console.appspot.com",messagingSenderId:"776554901895",appId:"1:776554901895:web:3934d64778852d4bbf6322",measurementId:"G-1FWKXL89F8"});u.a.storage(),u.a.firestore();var b=n(83),p=n.n(b);var x=n(8),f=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100px - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"0px 0px 2px black"},titleInput:{height:"50px",boxSizing:"border-box",border:"none",padding:"5px",fontSize:"24px",width:"calc(100% - 300px)",backgroundColor:"#29487d",color:"white",paddingLeft:"50px"},editIcon:{position:"absolute",left:"310px",top:"12px",color:"white",width:"10",height:"10"},editorContainer:{height:"100vh",boxSizing:"border-box"}}},j=n(5);var h=Object(x.a)(f)((function(e){var t=Object(o.useState)(""),n=Object(d.a)(t,2),r=n[0],c=n[1],i=Object(o.useState)(e.selectedNote.title),a=Object(d.a)(i,2),l=a[0],s=a[1],u=Object(o.useState)(e.selectedNote.id),b=Object(d.a)(u,2),x=b[0],f=b[1],h=e;return Object(o.useEffect)((function(){c(e.selectedNote.body),s(e.selectedNote.title),f(e.selectedNote.id)}),[]),Object(o.useEffect)((function(){e.selectedNote.id!==x&&(c(e.selectedNote.body),s(e.selectedNote.title),f(e.selectedNote.id))}),[]),Object(j.jsx)("div",{className:h.editorContainer,children:Object(j.jsx)(p.a,{value:r,onChange:function(e,t){var n;return function(){for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];clearTimeout(n),n=setTimeout((function(){return e.apply(null,r)}),t)}}((function(t){e.noteUpdate(x,{title:l,body:t}),c(t)}),1500)})})})),v=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100% - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"0px 0px 2px black"},newChatBtn:{borderRadius:"0px"},unreadMessage:{color:"red",position:"absolute",top:"0",right:"5px"},newNoteBtn:{width:"100%",height:"35px",borderBottom:"1px solid black",borderRadius:"0px",backgroundColor:"#29487d",color:"white","&:hover":{backgroundColor:"#88a2ce"}},sidebarContainer:{marginTop:"0px",width:"300px",height:"100vh",boxSizing:"border-box",float:"left",overflowY:"scroll",overflowX:"hidden"},newNoteInput:{width:"100%",margin:"0px",height:"35px",outline:"none",border:"none",paddingLeft:"5px","&:focus":{outline:"2px solid rgba(81, 203, 238, 1)"}},newNoteSubmitBtn:{width:"100%",backgroundColor:"#28787c",borderRadius:"0px",color:"white"}}},g=n(239),O=n(238),m=n(240),N=function(e){return{listItem:{cursor:"pointer"},textSection:{maxWidth:"85%"},deleteIcon:{position:"absolute",right:"5px",top:"calc(50% - 15px)","&:hover":{color:"red"}}}},w=n(237),y=n(241),S=n(89),C=n.n(S);var I=Object(x.a)(N)((function(e){var t,n=e._index,o=e._note,r=e.classes,c=e.selectedNoteIndex;return Object(j.jsx)("div",{children:Object(j.jsxs)(w.a,{className:r.listItem,selected:c===n,alignItems:"flex-start",children:[Object(j.jsx)("div",{className:r.textSection,onClick:function(){return t=o,r=n,e.selectNote(t,r);var t,r},children:Object(j.jsx)(y.a,{primary:o.title,secondary:(t=o.body.substring(0,30),t.replace(/<[^>]*>?/gm,"")+". . . .")})}),Object(j.jsx)(C.a,{onClick:function(){return t=o,void(window.confirm("Are you  sure you want to delete: ".concat(t.title))&&e.deleteNote(t));var t},className:r.deleteIcon})]})},n)}));var k=Object(x.a)(v)((function(e){var t=Object(o.useState)(!1),n=Object(d.a)(t,2),r=n[0],c=n[1],i=Object(o.useState)(null),a=Object(d.a)(i,2),l=a[0],s=a[1],u=e.notes,b=e.classes,p=e.selectedNoteIndex,x=function(t,n){return e.selectNote(t,n)},f=function(t){e.deleteNote(t)};return console.log(u),u?Object(j.jsxs)("div",{className:b.sidebarContainer,children:[Object(j.jsx)(O.a,{onClick:function(){c(!r),s(null)},className:b.newNoteBtn,children:r?"Cancel":"New Note"}),r?Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"text",className:b.newNoteInput,placeholder:"Enter note title",onKeyUp:function(e){return t=e.target.value,void s(t);var t}}),Object(j.jsx)(O.a,{className:b.newNoteSubmitBtn,onClick:function(){e.newNote(l),s(null),c(!1)},children:"Submit Note"})]}):null,Object(j.jsx)(g.a,{children:Array.isArray(u)&&u.map((function(e,t){return Object(j.jsxs)("div",{children:[Object(j.jsx)(I,{_note:e,_index:t,selectedNoteIndex:p,selectNote:x,deleteNote:f}),Object(j.jsx)(m.a,{})]},t)}))})]}):Object(j.jsx)("div",{children:"yo"})}));var F=function(){var e=Object(o.useState)(null),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(o.useState)(null),a=Object(d.a)(c,2),b=a[0],p=a[1],x=Object(o.useState)(null),f=Object(d.a)(x,2),v=f[0],g=f[1];Object(o.useEffect)((function(){u.a.firestore().collection("notes").onSnapshot((function(e){var t=e.docs.map((function(e){var t=e.data();return t.id=e.id,t}));console.log(t),p(t)}))}),[]);var O=function(e,t){r(e),g(t)},m=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.indexOf(t),e.next=3,p(b.filter((function(e){return e!==t})));case 3:v===n?(g(null),r(null)):(b.length>1?O(b[v-1],v-1):g(null),r(null)),u.a.firestore().collection("notes").doc(t.id).delete();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(s.a)(l.a.mark((function e(t){var n,o,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={title:t,body:""},e.next=3,u.a.firestore().collection("notes").add({title:n.title,body:n.body,timestamp:u.a.firestore.FieldValue.serverTimestamp()});case 3:return o=e.sent,c=o.id,e.next=7,p({notes:[].concat(Object(i.a)(b),[n])});case 7:a=b.indexOf(b.filter((function(e){return e.id===c}))[0]),r(b[a]),g(a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(k,{selectedNoteIndex:v,notes:b,deleteNote:m,selectNote:O,newNote:N}),n?Object(j.jsx)(h,{selectedNote:n,selectedNoteIndex:v,notes:b,noteUpdate:function(e,t){u.a.firestore().collection("notes").doc(e).update({title:t.title,body:t.body,timestamp:u.a.firestore.FieldValue.serverTimestamp()})}},v):null]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,242)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),o(e),r(e),c(e),i(e)}))};c.a.render(Object(j.jsx)(F,{}),document.getElementById("evernote-container")),B()}},[[217,1,2]]]);
//# sourceMappingURL=main.f0f46c54.chunk.js.map